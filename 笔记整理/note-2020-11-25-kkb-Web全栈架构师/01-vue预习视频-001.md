
# vue预习视频

## 第5节 05 生命周期

### 05-2 生命周期探讨
beforeUpdate, update 在绑定数据发生改变时触发  
activated deactivated 被 keep-alive 缓存的组件激活时调用。  

## 第6节 06 组件化实践

### 06-5 组件化探讨
- 定义：Vue.component()，components选项，sfc
- 分类：有状态组件，functional，abstract(抽象组件 如 transition keep-alive 等)
- 通信：props，$emit()/$on()，provide/inject，$children/$parent/$root/$attrs/$listeners
- 内容分发：\<slot\>，\<template\>，v-slot
- 使用及优化：is，keep-alive，异步组件

[抽象组件]()  
  不会渲染一个 DOM 元素，也不会出现在组件的父组件链中。

[异步组件](https://cn.vuejs.org/v2/guide/components-dynamic-async.html#异步组件)  

### 组件的本质
vue中的组件经历如下过程  
组件配置 => VueComponent实例 => render() => Virtual DOM=> DOM  
所以组件的本质是产生虚拟DOM

## 07 vue必会API盘点
- Vue.set
- Vue.delete
- vm.$on
- vm.$emit
- 事件总线
- vm.$once
- vm.$off
- ref和vm.$refs

## 08 动画

```html
<transition name="fade">
```
v-enter (fade-enter)
v-enter-active
v-enter-to
v-eave (fade-eave)
v-eave-active
v-eave-to

### 使用CSS动画库
```html
<link href="https://cdn.jsdelivr.net/npm/animate.css@3.5.1" rel="stylesheet"
type="text/css">

<transition enter-active-class="animated bounceIn"
leave-active-class="animated bounceOut">
```

### JavaScript 钩子

```html
<transition
v-on:before-enter="beforeEnter" // 动画开始前，设置初始状态
v-on:enter="enter" // 执行动画
v-on:after-enter="afterEnter" // 动画结束，清理工作
v-on:enter-cancelled="enterCancelled" // 取消动画
v-on:before-leave="beforeLeave"
v-on:leave="leave"
v-on:after-leave="afterLeave"
v-on:leave-cancelled="leaveCancelled"
></transition>
```

```js

methods: {
  // v-if 触发
  beforeEnter(el) {
    el.style.opacity = 0 // 设置初始状态
  },
  enter(el, done) {
    document.body.offsetHeight; // 触发回流激活动画
    el.style.opacity = 1 // 设置结束状态
  }
},
```

### velocity.js

```html
<script
src="https://cdnjs.cloudflare.com/ajax/libs/velocity/1.2.3/velocity.min.js">
</script>
```
```js
Vue.component('message', {
  template: `
    <transition name="fade"
    :css="false" // 禁用css
    @before-enter="beforeEnter"
    @enter="enter"
    @before-leave="beforeLeave"
    @leave="leave">
    </transition>
    `,
  methods: {
    beforeEnter(el) {
      el.style.opacity = 0
    },
    enter(el, done) {
      Velocity(el, { opacity: 1 }, { duration: 500, complete: done })
    },
    beforeLeave(el) {
      el.style.opacity = 1
    },
      leave(el, done) {
      Velocity(el, { opacity: 0 }, { duration: 500, complete: done })
    }
  },
})
```
### 列表过度
transition-group可以对v-for渲染的每个元素应用过度
```html
<transition-group name="fade">
  <div v-for="c in courses" :key="c.name">
  {{ c.name }} - ￥{{c.price}}
    <button @click="addToCart(c)">加购</button>
  </div>
</transition-group>
```

## 09 可复用性
### 09-1 过滤器

### 09-2 自定义指令
**

### 09-3 渲染函数
**

### 09-4 函数式组件
**

### 09-5 混入
**

### 09-6 插件
**

## 10 工程化

### 10-1 vue-cli使用

### 10-2 cart案例移植

### 10-3 vue-cli插件

### 10-4 静态地址使用方式

### 10-5 使用CSS预处理器

### 10-6 Scoped CSS

### 10-7 Module CSS

### 10-8 数据Mock和请求代理
